@use './styles/_theme' as *;

/* Color Variables */
:root {
  /* Primary Colors (Design system) */
  --color-primary: #008080;
  --color-primary-hover: #006666;

  --color-light-green: #66B3B340;
  --color-light-lightgrey2: #9E9E9E;

  /* Background Colors (Design system: gradient black → teal) */
  --color-bg-gradient: linear-gradient(180deg, #000000 0%, #008080 200.27%);
  --color-bg-primary: #FFFFFF;
  --color-bg-secondary: #F8F8F8;
  --color-bg-tertiary: #F9FAFB;
  --color-bg-quaternary: #F3F4F6;
  --color-bg-hover: #F9FAFB;


  /* Text Colors (Design system: primary #ffffff on dark) */
  --color-text-primary: #ffffff;
  --color-text-secondary: #E5E7EB;
  --color-text-tertiary: #9CA3AF;
  --color-text-quaternary: #6B7280;
  --color-text-white: #FFFFFF;
  --color-text-on-light: #111827;


  /* Border Colors */
  --color-border: #E5E7EB;
  --color-border-hover: #E5E7EB;


  /* Green Colors (Success) */
  --color-green: #10B981;
  --color-green-light: #D1FAE5;
  --color-green-dark: #065F46;
  --color-green-teal: #008080;
  --color-green-light-teal: #66B3B3;

  /* Blue Colors */
  --color-blue: #0066CC;
  --color-blue-hover: #0052A3;
  --color-blue-light: #E0F2FE;
  --color-blue-light-hover: #BAE6FD;
  --color-blue-dark: #0284C7;
  --color-link: #008080;

  /* Filter Pill Colors */
  --color-filter-selected-bg: #008080;
  --color-filter-dropdown-bg: #F3F4F6;
  --color-filter-dropdown-bg-hover: #E5E7EB;

  /* Search Input Colors */
  --color-search-border: #E5E7EB;
  --color-search-border-focus: #008080;
  --color-search-placeholder: #9CA3AF;

  /* Design system: Cards & layout (dialogs 24px radius) */
  --card-border-radius: 24px;
  --card-padding: 20px;
  --card-gap: 10px;
  --border-opacity: 1;
  --dialog-border-radius: 24px;
  --form-field-border-radius: 12px;
  /* Material outlined text field: 12px radius (overrides theme default 4px) */
  --mdc-outlined-text-field-container-shape: 12px;

  --color-red: #EF4444;
  --color-red-light: #FEE2E2;
  --color-red-dark: #DC2626;

  --color-orange: #F59E0B;
  --color-orange-light: #FEF3C7;
  --color-orange-dark: #FF7F50;
  --color-yellow: #B45346;
  --color-yellow-light: #FEF3C7;

  --color-dark-brown: #A73412;
  --color-light-brown: #FED7AA;

  --color-black: #011B1B;

  /* Severity badge (incident details) — light bg + darker text */
  --severity-critical-bg: #FFDCDC;
  --severity-critical-text: #CC0000;
  --severity-critical-border: #FFB3B3;
  --severity-high-bg: #FFFFCC;
  --severity-high-text: #FF8000;
  --severity-high-border: #FFCC66;
  --severity-medium-bg: #FFE0BD;
  --severity-medium-text: #A85800;
  --severity-medium-border: #E8C9A0;
  --severity-low-bg: #CCFFCC;
  --severity-low-text: #009900;
  --severity-low-border: #99CC99;
  --severity-na-bg: #A9A9A9;
  --severity-na-text: #FFFFFF;
  --severity-na-border: #8C8C8C;

  /* Status badge colors (danger, warning, info, success, unknown) – use with .badge-status-* */
  --status-badge-radius: 24px;
  --status-badge-success-bg: rgba(44, 204, 0, 0.29);
  --status-badge-success-text: #ffffff;
  --status-badge-info-bg: rgba(76, 151, 255, 0.7);
  --status-badge-info-text: #ffffff;
  --status-badge-danger-bg: rgba(255, 0, 0, 0.49);
  --status-badge-danger-text: #ffffff;
  --status-badge-warning-bg: rgba(255, 200, 0, 0.7);
  --status-badge-warning-text: #1a1a1a;
  --status-badge-unknown-bg: rgba(255, 255, 255, 1);
  --status-badge-unknown-text: #1a1a1a;

  /* Font Families (Design system: SF Pro Display) */
  --font-primary: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif;
  --font-rubik: 'Rubik', sans-serif;
}

/* Apply SF Pro Display globally */
* {
  font-family: var(--font-primary);
}

/* Same gradient + bg.svg as login; fixed to viewport so no "seam" when scrolling to end */
html {
  min-height: 100%;
}

body {
  font-family: var(--font-primary);
  min-height: 100%;
  background: linear-gradient(180deg, #000000 0%, #003D3D 100%);
  background-attachment: fixed;
  position: relative;
}

body::before {
  content: '';
  position: fixed;
  inset: 0;
  background-image: url('/assets/bg.svg');
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  opacity: 0.4;
  z-index: -1;
  pointer-events: none;
}

.app-shell {
  background: transparent;
}

/* ========== Status badges (danger, warning, info, success, unknown) – use everywhere ========== */
.badge-status-success,
.badge-status-info,
.badge-status-danger,
.badge-status-warning,
.badge-status-unknown {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  width: 80px;
  height: 27px;
  padding: 4px 8px 4px 8px;
  border-radius: var(--status-badge-radius, 24px);
  font-weight: 500;
  font-size: 12px;
  line-height: 18px;
  white-space: nowrap;
  opacity: 1;
  /* Glass effect: subtle border + top highlight + depth */
  border: 1px solid rgba(255, 255, 255, 0.25);
  box-shadow:
    0 1px 0 rgba(255, 255, 255, 0.12) inset,
    0 -1px 0 rgba(0, 0, 0, 0.08) inset,
    0 1px 2px rgba(0, 0, 0, 0.06);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

.badge-status-success {
  background: var(--status-badge-success-bg);
  color: var(--status-badge-success-text);
  border-color: rgba(255, 255, 255, 0.28);
  box-shadow:
    0 1px 0 rgba(255, 255, 255, 0.15) inset,
    0 -1px 0 rgba(0, 0, 0, 0.06) inset,
    0 1px 2px rgba(0, 0, 0, 0.06);
}

.badge-status-info {
  background: var(--status-badge-info-bg);
  color: var(--status-badge-info-text);
  border-color: rgba(255, 255, 255, 0.3);
  box-shadow:
    0 1px 0 rgba(255, 255, 255, 0.12) inset,
    0 -1px 0 rgba(0, 0, 0, 0.08) inset,
    0 1px 2px rgba(0, 0, 0, 0.06);
}

.badge-status-danger {
  background: var(--status-badge-danger-bg);
  color: var(--status-badge-danger-text);
  border-color: rgba(255, 255, 255, 0.2);
  box-shadow:
    0 1px 0 rgba(255, 255, 255, 0.1) inset,
    0 -1px 0 rgba(0, 0, 0, 0.1) inset,
    0 1px 2px rgba(0, 0, 0, 0.06);
}

.badge-status-warning {
  background: var(--status-badge-warning-bg);
  color: var(--status-badge-warning-text);
  border-color: rgba(255, 255, 255, 0.22);
  box-shadow:
    0 1px 0 rgba(255, 255, 255, 0.12) inset,
    0 -1px 0 rgba(0, 0, 0, 0.08) inset,
    0 1px 2px rgba(0, 0, 0, 0.06);
}

.badge-status-unknown {
  background: var(--status-badge-unknown-bg);
  color: var(--status-badge-unknown-text);
  border-color: rgba(0, 0, 0, 0.08);
  box-shadow:
    0 1px 0 rgba(255, 255, 255, 0.5) inset,
    0 -1px 0 rgba(0, 0, 0, 0.06) inset,
    0 1px 2px rgba(0, 0, 0, 0.06);
}

.btn {
  white-space: nowrap;

  // Mobile screens - make it btn-sm size
  @media (max-width: 767px) {
    padding: 0.25rem 0.5rem;
    font-size: 0.875rem;
    line-height: 1.5;

    mat-icon {
      font-size: 18px;
      width: 18px;
      height: 18px;
      line-height: 18px;
    }
  }
}

.btn-primary {
  --bs-btn-color: var(--color-text-white);
  --bs-btn-bg: var(--color-primary);
  --bs-btn-border-color: var(--color-primary);
  --bs-btn-hover-color: var(--color-text-white);
  --bs-btn-hover-bg: var(--color-primary);
  --bs-btn-hover-border-color: var(--color-primary);
  --bs-btn-focus-shadow-rgb: 49, 132, 253;
  --bs-btn-active-color: var(--color-text-white);
  --bs-btn-active-bg: var(--color-primary);
  --bs-btn-active-border-color: var(--color-primary);
  --bs-btn-active-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
  --bs-btn-disabled-color: var(--color-text-white);
  --bs-btn-disabled-bg: var(--color-primary);
  --bs-btn-disabled-border-color: var(--color-primary);
}

.badge-success {
  color: var(--color-green-dark) !important;
  background: var(--color-green-light);
}

.badge-danger {
  color: var(--color-red) !important;
  background: var(--color-red-light);
}

hr {
  border: 1px solid var(--color-border);
  opacity: 1;
}

/* You can add global styles to this file, and also import other style files */
html,
body {
  height: 100%;
}

/* Custom Toast Styles */
::ng-deep {
  .toast-success {
    background-color: var(--color-green) !important;
  }

  .toast-error {
    background-color: var(--color-red) !important;
  }

  .toast-info {
    background-color: var(--color-blue) !important;
  }

  .toast-warning {
    background-color: #F59E0B !important;
  }
}

.pageTitle {
  font-weight: 700;
  font-style: Bold;
  font-size: 32px;
  line-height: 100%;
  letter-spacing: 0px;
}

// All modals/dialogs: 24px border radius (Design system)
::ng-deep .mat-mdc-dialog-container {
  border-radius: var(--dialog-border-radius, 24px);
}

::ng-deep .mat-mdc-dialog-surface {
  border-radius: var(--dialog-border-radius, 24px);
}

// Responsive modal styles
::ng-deep .responsive-modal {
  .mat-mdc-dialog-container {
    padding: 0 !important;
    max-height: 90vh;

    @media (max-width: 767px) {
      max-height: 95vh;
      margin: 10px;
      width: calc(100% - 20px) !important;
      max-width: calc(100% - 20px) !important;
    }
  }

  .mat-mdc-dialog-surface {
    overflow: hidden;
  }
}

.pointer {
  cursor: pointer;
}

.divider {
  height: 1px;
  background-color: #E5E7EB;
  margin: 16px 0;
  width: 100%;
}

.btn-outline {
  border-radius: 6px;
  opacity: 1;
  --bs-btn-color: var(--color-primary);
  --bs-btn-bg: var(--color-bg-primary);
  --bs-btn-border-color: var(--color-border);
  --bs-btn-hover-color: var(--color-primary);
  --bs-btn-hover-bg: var(--color-bg-primary);
  --bs-btn-hover-border-color: var(--color-border);
  --bs-btn-focus-shadow-rgb: 49, 132, 253;
  --bs-btn-active-color: var(--color-primary);
  --bs-btn-active-bg: var(--color-bg-primary);
  --bs-btn-active-border-color: var(--color-border);
  --bs-btn-active-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
  --bs-btn-disabled-color: var(--color-text-tertiary);
  --bs-btn-disabled-bg: var(--color-bg-primary);
  --bs-btn-disabled-border-color: var(--color-border);
}

.link {
  color: var(--color-link);

  &:hover {
    color: var(--color-link);
  }
}

.rounded {
  border-radius: var(--card-border-radius) !important;
  border: 1px solid var(--color-border) !important;
}

/* Filter Options dialog (Angular Material) */
.filter-options-dialog .mat-mdc-dialog-container {
  padding: 0;
  overflow: hidden;
  border-radius: var(--dialog-border-radius, 24px);
}

/* Form fields – 12px border radius (Design system). Material uses 4px by default. */
::ng-deep .mat-mdc-form-field-appearance-outline {
  $r: var(--form-field-border-radius, 12px);
  .mat-mdc-text-field-wrapper {
    border-radius: $r;
  }
  .mat-mdc-form-field-outline-start,
  .mat-mdc-form-field-outline-end,
  .mat-mdc-form-field-outline-gap,
  .mat-mdc-form-field-outline-thick,
  .mdc-notched-outline__leading,
  .mdc-notched-outline__notch,
  .mdc-notched-outline__trailing {
    border-top-left-radius: $r !important;
    border-top-right-radius: $r !important;
    border-bottom-left-radius: $r !important;
    border-bottom-right-radius: $r !important;
  }
}

/* Table headers – capitalize (Design system) */
table th,
.assets-table th,
.mat-mdc-header-cell {
  text-transform: capitalize;
}

/* Dashboard page: table design – dark header, light rows, blue links, green Analyze */
.dashboard-page .dashboard-table-section {
  .table-wrapper {
    background: #ffffff !important;
    border: 1px solid #e5e7eb !important;
    border-radius: 0 !important;
  }

  .assets-table {
    background: #ffffff !important;
  }

  .assets-table .mat-mdc-header-row,
  .assets-table th {
    background: #1f2937 !important;
    color: #9ca3af !important;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
    border-right: 1px solid rgba(255, 255, 255, 0.08) !important;
  }

  .assets-table th:last-child {
    border-right: none !important;
  }

  .assets-table .mat-mdc-row,
  .assets-table tr.mat-mdc-row {
    background: #ffffff !important;
  }

  .assets-table .mat-mdc-row:nth-child(even),
  .assets-table tr.mat-mdc-row:nth-child(even) {
    background: #f9fafb !important;
  }

  .assets-table .mat-mdc-cell,
  .assets-table td {
    color: #374151 !important;
    background-color: inherit !important;
    border-bottom: 1px solid #e5e7eb !important;
    border-right: 1px solid #e5e7eb !important;
  }

  .assets-table .mat-mdc-row:nth-child(even) .mat-mdc-cell,
  .assets-table tr.mat-mdc-row:nth-child(even) td {
    background: #f9fafb !important;
  }

  .assets-table .mat-mdc-cell:last-child,
  .assets-table td:last-child {
    border-right: none !important;
  }

  .assets-table tr.mat-mdc-row:hover .mat-mdc-cell,
  .assets-table tr.mat-mdc-row:hover td {
    background: #f3f4f6 !important;
  }

  .assets-table .sort-icon,
  .assets-table .sortable-header .mat-icon {
    color: #9ca3af !important;
  }

  .assets-table .line-link,
  .assets-table .line-primary.line-link,
  .assets-table a.line-link,
  .assets-table .link-text {
    color: #2563eb !important;
    text-decoration: underline;
  }

  .assets-table .line-link:hover,
  .assets-table .link-text:hover {
    color: #1d4ed8 !important;
  }

  .assets-table .line-secondary {
    color: #6b7280 !important;
  }

  .assets-table .trailing-btn-outline {
    background: #ffffff !important;
    border: 1px solid #22c55e !important;
    color: #16a34a !important;
    border-radius: 6px;
  }

  .assets-table .trailing-btn-outline:hover {
    background: #f0fdf4 !important;
  }

  .pagination-container {
    border-top: 1px solid #e5e7eb !important;
    background: #ffffff !important;
    color: #374151 !important;
  }

  .rows-per-page-label,
  .row-count-text {
    color: #6b7280 !important;
  }

  .rows-per-page-select {
    background: #ffffff !important;
    border: 1px solid #d1d5db !important;
    color: #374151 !important;
  }

  .empty-state-text {
    color: #6b7280 !important;
  }

  .assets-table .text-success .line-primary,
  .assets-table .text-success {
    color: #059669 !important;
  }
  .assets-table .text-danger .line-primary,
  .assets-table .text-danger {
    color: #dc2626 !important;
  }
  .assets-table .text-warning .line-primary,
  .assets-table .text-warning {
    color: #d97706 !important;
  }
  .assets-table .text-default .line-primary {
    color: #6b7280 !important;
  }
}

/* Dropdown options – uppercase everywhere (mat-select + native select) */
.mat-mdc-select-panel .mat-mdc-option,
.mat-mdc-option {
  text-transform: uppercase;
}

/* mat-select trigger: show selected value in uppercase */
.mat-mdc-select-value,
.mat-mdc-select .mat-mdc-select-value-text {
  text-transform: uppercase;
}

/* Native select: options and displayed value */
select,
select option {
  text-transform: uppercase;
}

/* Incident details – status dropdown: option text uppercase (display only, values unchanged) */
.incident-status-select-panel .mat-mdc-option,
.incident-status-select-panel .mdc-list-item__primary-text {
  text-transform: uppercase;
}

/* Add Assets page – dropdown list line spacing (reusable-input select) */
.reusable-input-select-panel.mat-mdc-select-panel .mat-mdc-option {
  min-height: 44px;
  padding-top: 10px;
  padding-bottom: 10px;
  line-height: 1.4;
}
