<div class="container-fluid p-4">
    <app-reusable-breadcrum [breadcrumbs]="breadcrumbs"></app-reusable-breadcrum>
    <div class="row">
        <div class="col-md-3 col-sm-12"></div>
        <div class="col-md-6 col-sm-12">

            <!-- Breadcrumb -->

            <!-- Page Header -->
            <div class="page-header mb-4">
                <h1 class="page-title">{{ pageInfo().title }}</h1>
                <p class="page-subtitle">{{ pageInfo().subtitle }}</p>
            </div>

            <!-- Form Card -->
            <div class="form-card">
                <form [formGroup]="digitalAssetForm" (ngSubmit)="onSubmit()">
                    <!-- Section 1: Basic Information -->
                    <div class="form-section">
                        <h2 class="section-title">Basic Information</h2>

                        <div class="info-box">
                            <mat-icon class="info-icon">info</mat-icon>
                            <span class="info-text">Provide the essential details to identify and categorize your
                                digital asset.</span>
                        </div>

                        <div class="row g-3 mt-3">
                            <!-- Left Column -->
                            <div class="col-md-6">
                                <!-- Ministry Field -->
                                <app-reusable-input label="Ministry" type="select" [options]="ministryOptions"
                                    hint="Select the primary ministry responsible for this asset"
                                    [control]="getControl('ministryId')">
                                </app-reusable-input>

                                <!-- Asset Name Field -->
                                <app-reusable-input label="Website / Application Name" type="text"
                                    placeholder="e.g Health Portal" hint="The display name for this digital asset"
                                    [control]="getControl('assetName')">
                                </app-reusable-input>
                            </div>

                            <!-- Right Column -->
                            <div class="col-md-6">
                                <!-- Department Field -->
                                <app-reusable-input label="Department" type="select" [options]="departments"
                                    hint="Enter the specific department or division"
                                    [control]="getControl('departmentId')">
                                </app-reusable-input>

                                <!-- Asset URL Field -->
                                <app-reusable-input label="URL" type="text" placeholder="https://example.gov"
                                    hint="Full URL including protocol (https://)" [errorMessages]="urlErrorMessages"
                                    [control]="getControl('assetUrl')">
                                </app-reusable-input>
                            </div>
                        </div>
                    </div>

                    <!-- Section Compliance Configuration -->
                    <div class="form-section">
                        <h2 class="section-title">Compliance & Impact</h2>

                        <div class="info-box">
                            <mat-icon class="info-icon">info</mat-icon>
                            <span class="info-text">Define compliance requirements and citizen impact level</span>
                        </div>

                        <div class="row g-3 mt-3">
                            <!-- Left Column -->
                            <div class="col-md-12">
                                <!-- Digital Experience Level Field -->
                                <app-reusable-input label="Digital Experience Level" type="select"
                                    [options]="citizenImpactLevelOptions" placeholder="Enter citizen impact level"
                                    hint="How critical this asset is to citizens"
                                    [control]="getControl('citizenImpactLevelId')">
                                </app-reusable-input>
                            </div>
                        </div>
                    </div>

                    <!-- Section Additional Information -->
                    <div class="form-section form-section-additional">
                        <h2 class="section-title">Additional Information</h2>

                        <div class="row g-2 mt-2">
                            <!-- Full Width -->
                            <div class="col-12">
                                <!-- Description Field -->
                                <app-reusable-input label="Description" type="textarea"
                                    placeholder="Provide additional context about this digital asset"
                                    hint="Optional: Add notes or special requirements" [rows]="4"
                                    [control]="getControl('description')">
                                </app-reusable-input>
                            </div>
                            <div class="col-md-4">
                                <!-- Primary Contact Name Field -->
                                <app-reusable-input label="Primary Contact Name" type="text" placeholder="Name"
                                    hint="Person responsible for this asset"
                                    [control]="getControl('primaryContactName')">
                                </app-reusable-input>
                            </div>

                            <div class="col-md-4">
                                <!-- Primary Contact Email Field -->
                                <app-reusable-input label="Primary Contact Email" type="email"
                                    placeholder="Enter the primary contact email"
                                    hint="Email for incident notifications"
                                    [control]="getControl('primaryContactEmail')">
                                </app-reusable-input>
                            </div>

                            <div class="col-md-4">
                                <!-- Primary Contact Phone Field -->
                                <app-reusable-input label="Primary Contact Phone" type="text"
                                    placeholder="e.g +92-300-123-4567" hint="Phone number for primary contact"
                                    [control]="getControl('primaryContactPhone')">
                                </app-reusable-input>
                            </div>

                            <div class="col-md-4">
                                <!-- Technical Contact Name Field -->
                                <app-reusable-input label="Technical Contact Name" type="text" placeholder="Name"
                                    hint="Technical person responsible for this asset"
                                    [control]="getControl('technicalContactName')">
                                </app-reusable-input>
                            </div>

                            <div class="col-md-4">
                                <!-- Technical Contact Email Field -->
                                <app-reusable-input label="Technical Contact Email" type="email" placeholder="Email"
                                    hint="Email for technical notifications"
                                    [control]="getControl('technicalContactEmail')">
                                </app-reusable-input>
                            </div>

                            <div class="col-md-4">
                                <!-- Technical Contact Phone Field -->
                                <app-reusable-input label="Technical Contact Phone" type="text"
                                    placeholder="e.g +92-300-123-4567" hint="Phone number for technical contact"
                                    [control]="getControl('technicalContactPhone')">
                                </app-reusable-input>
                            </div>
                        </div>
                    </div>

                    <!-- Form Actions -->
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" routerLink="/assets">Cancel</button>
                        <button type="submit" class="btn btn-primary"> {{pageInfo().pageState === 'add' ? 'Add Digital
                            Asset' : 'Update Digital Asset'}}</button>
                    </div>
                </form>
            </div>
        </div>
        <div class="col-md-3 col-sm-12"></div>
    </div>
</div>
