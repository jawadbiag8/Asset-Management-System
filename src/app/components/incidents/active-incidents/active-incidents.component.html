<div class="container-fluid" [class.incidents-page]="showHeader" [class.p-4]="showHeader">
  @if (showHeader) {
    <header class="incidents-header d-flex justify-content-between align-items-center">
      <h1 class="incidents-page-title">All Incidents</h1>

    </header>
  }

  <div [class.mt-5]="showHeader">
    @if (!hasRouteQueryParams || filtersReady()) {
      @if (showHeader) {
        <div id="incidents-table" class="dashboard-table-section">
          <div class="table-section-card">
            <app-reusable-table
              [config]="tableConfigWithData()"
              [filters]="displayFilters()"
              (searchQuery)="loadIncidents($event)"
              [totalItems]="totalItems()"
              (actionClick)="onViewDetailsClick($event)"
            >
            </app-reusable-table>
          </div>
        </div>
      } @else {
        <app-reusable-table
          [config]="tableConfigWithData()"
          [filters]="displayFilters()"
          (searchQuery)="loadIncidents($event)"
          [totalItems]="totalItems()"
          (actionClick)="onViewDetailsClick($event)"
        >
        </app-reusable-table>
      }
    }
  </div>
</div>
